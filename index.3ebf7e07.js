const addEventBtn=document.querySelector(".add-new-event");addEventBtn.addEventListener("click",(()=>{document.querySelector(".modal").style.display="flex"}));const closeModalBtn=document.querySelector(".leave-modal");closeModalBtn.addEventListener("click",(()=>{document.querySelector(".modal").style.display="none",removeAdditionalDates()}));const addDateBtn=document.querySelector(".add-new-date-button");addDateBtn.addEventListener("click",addAdditionalDate);const submitFormBtn=document.querySelector(".submit-form");function addAdditionalDate(){const e=document.querySelector(".event-dates"),t=document.createElement("div");t.classList.add("additional-date");const n=document.createElement("input");n.setAttribute("type","date");const d=document.createElement("span");d.classList.add("delete-date"),d.addEventListener("click",(()=>{dateDiv=d.parentNode,document.querySelector(".event-dates").removeChild(dateDiv)})),d.innerText="Ã—",t.appendChild(n),t.appendChild(d),e.appendChild(t)}function removeAdditionalDates(){const e=document.querySelectorAll(".additional-date");for(const t of e)document.querySelector(".event-dates").removeChild(t)}function addEvent(){const e=document.querySelector(".event-form"),t=e.querySelectorAll('input[type="date"]');let n=[];for(const e of t)n.push(e.value);const d={name:e.name.value,dates:n,author:e.author.value,description:e.description.value};fetch("http://localhost:3000/api/events/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});document.querySelector(".modal").style.display="none",removeAdditionalDates()}function attendanceAdd(e){e.preventDefault();let t=[];const n=e.target.parentNode,d=n.querySelectorAll(".radio-buttons");for(const e of d){const n=e.getElementsByTagName("input"),d=n[0].name;let o;n[0].checked?o=!0:n[1].checked&&(o=!1);const a={date:d,available:o};t.push(a)}const o={name:n.name.value,dates:t},a=e.target.id;fetch("http://localhost:3000/api/events/"+a+"/attend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})}submitFormBtn.addEventListener("click",addEvent);
//# sourceMappingURL=index.3ebf7e07.js.map
